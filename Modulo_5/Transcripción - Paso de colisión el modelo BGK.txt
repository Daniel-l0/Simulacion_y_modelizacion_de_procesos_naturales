[MÚSICA] Hola y bienvenidos de nuevo a la quinta semana de nuestra clase, simulación y modelación de procesos físicos. Este módulo tratará sobre el estado de colisión y el modelo BGK, y ambos sobre simulaciones. Antes de hablar de los detalles del estado de colisión, vamos a intentar entender un poco mejor las variables que llamamos poblaciones. Hasta ahora, hemos interpretado las poblaciones como promedios de las partículas que se tienen en el autómata de gas de celosía. Es correcto, y es una forma fácil de desarrollar la teoría del Boltzmann de celosía. Pero existe una interpretación alternativa, también se puede interpretar realmente estas poblaciones como promedios de moléculas en un gas real. Existe una rama de la física que investiga la física de los gases, se llama teoría cinética. En ella describimos las densidades de los gases como a través de una única variable que se llama función de densidad de probabilidad F, que depende del espacio y del tiempo. Pero también de las velocidades moleculares, describe la densidad de probabilidad de encontrar una posición determinada en el espacio. Una determinada molécula con una velocidad cercana a v, las ecuaciones de movimiento para esta función de densidad de probabilidad viene dada por una ecuación llamada ecuación de Boltzmann. Y esta es, por supuesto, la razón por la que nos hacen keen lo que desarrollamos hoy se llama el método de Boltzmann de celosía. Pero, volviendo a la pregunta de cuál es el valor de las poblaciones o de la función de densidad de probabilidad. Imagínese que un gas se dirige microscópicamente. Por ejemplo, el aire de una habitación si no lo agita ni lo mueve. Si no se mueve. Si observa las moléculas microscópicamente se están moviendo de todas formas. Sólo que su valor medio es cero. Se están moviendo, y tienen velocidades que se distribuyen según cierta ley. Se distribuyen en un punto del espacio, se distribuyen por el espacio de velocidades. Según una distribución de Maxwell-Boltzmann, que no es más que una distribución gaussiana centrada en la velocidad media de la gaussiana. Por ejemplo, cero. Cuando un gas está completamente en reposo, las moléculas tienen una distribución de equilibrio , pero incluso cuando no está en reposo cuando se está moviendo, estará cerca del equilibrio, sólo será una perturbación alrededor de este equilibrio. Lo que significa que la distribución de equilibrio es el punto de partida para el gas en la dinámica son perturbaciones alrededor del estado. Por lo tanto tiene sentido escribir un modelo Omega y en particular el modelo de colisión molecular que está bastante disperso como una perturbación alrededor de la distribución equivalente de un gas en su estado de reposo. Esto es lo que estamos haciendo en Lattice Boltzmann. Hoy estamos trabajando con una colisión especial que proviene del modelo BGK Lattice Boltzmann ampliamente utilizado. Existen todos los modelos pero este es el más simple que sería nuestra fuerza de trabajo hoy. En este modelo, decimos que la diferencia entre las poblaciones salientes y entrantes en una determinada dirección i es proporcional a la diferencia con la perturbación actual de las poblaciones respecto al valor de equilibrio en torno a una densidad y velocidad dadas. De este modo, la dinámica real del grafo es una relajación a la que se mantuvo su equilibrio. La frecuencia de la relajación se denomina omega. En esta parte delantera, en la parte derecha de la ecuación, frente a la diferencia entre las poblaciones y su estado de equilibrio. ¿Qué significa este parámetro en el omega? El omega está relacionado con la viscosidad del fluido. Imagine intuitivamente la diferencia entre un fluido muy viscoso y un fluido poco viscoso. Tome de nuevo la miel y el agua. La miel tiene una viscosidad alta, el agua tiene una viscosidad baja. La miel fluye lentamente. Si coge un tarro de miel y lo hace fluir. La miel fluirá pero a muy lentamente tardará mucho tiempo en alcanzar su estado de equilibrio. Por lo tanto si el parámetro de relajación es pequeño Usted converge directamente a un equilibrio muy lentamente lo que significa que un parámetro de relajación lento significa una viscosidad alta. Y un parámetro de relajación alto significa una viscosidad baja. En otras palabras, la viscosidad del fluido en general depende de la inversa del parámetro de relajación. En detalle, y ahora he optado por escribir la ecuación para usted de nuevo sin derivarla realmente. La viscosidad es igual a las veces que delta tres, veces la velocidad del sonido al cuadrado. Veces la diferencia entre la inversa del parámetro de relajación a la mitad. Esta fórmula probablemente no quiera recordarla y simplemente la buscará cuando la necesite. Pero lo que hay que recordar es que el parámetro de relajación en el modelo de colisión se relaciona directamente con la viscosidad del fluido. Para concluir nuestra introducción del modelo de colisión BGK, necesitamos también escribir la forma explícita del término de equilibrio. Ya le hemos dicho que el equilibrio es una distribución gaussiana. No es una distribución de Boltzmann. Centrada alrededor de la densidad microscópica y la velocidad del fluido. Significa que el equilibrio no depende de los detalles de las poblaciones de partículas, sino sólo del valor de la concentración microscópica, la densidad y la velocidad. En el modelo BGK, en el modelo [INAUDIBLE] BGK, no vamos a escribir la forma exacta de la distribución Maxwell-Boltzmann, porque no merece la pena. Simplemente la discretizaremos de nuevo utilizando un desarrollo finito de las velocidades de segundo orden de la curva [INAUDIBLE] de Gauss. El resultado es la ecuación que les he escrito aquí. Tiene un término, que es un término constante, un término que es proporcional a las velocidades. Es la velocidad macroscópica proyectada sobre la velocidad de la red correspondiente dividida por la velocidad del sonido al cuadrado. Y, por último, tenemos un término no lineal, que es de nuevo el escalar producto entre la velocidad de la red y la velocidad macroscópica al cuadrado, menos una constante multiplicada por la norma de la velocidad macroscópica al cuadrado. Tiene sentido que en nuestro término de colisión tengamos una expresión no lineal que vaya como el cuadrado de la velocidad. Porque nuestro objetivo al final es resolver las ecuaciones de Navier-Stokes, y recordará que en las ecuaciones de Navier-Stokes, en el lado izquierdo, en el término conductor. También teníamos una expresión que era no lineal con respecto a las velocidades, y señalamos que ésta es la fuente de los efectos no lineales en la dinámica lineal como la turbulencia. Lo mismo ocurre aquí en el término de equilibrio en el modelo de Boltzmann de celosía. Cuando definimos el equilibrio, antes del paréntesis, tenemos una nueva constante que llamamos ti. Esta constante está ahí para compensar el hecho de que cuando se observan velocidades de celosía algunas de ellas son más largas que las otras. Las ortogonales son cortas y las diagonales son largas. Necesitamos alguna constante de red, ti, para compensar esto. Para los pesos de red, ti, para el modelo d dos cuatro nueve tienen un valor de uno nueve para las direcciones ortogonales, uno sobre 36 para las direcciones diagonales y el resto de partículas tienen un peso de 4/9. Escribimos esta relación directamente en sintaxis python, como una matriz, que va con la misma ordenación que las velocidades de la red. Así, queremos saber si 36 para la primera velocidad, que era, recuerde, 1,1. 1/9 para la segunda, que era focal, que era 1,0 y así sucesivamente. Cambiemos a algunos códigos Python más y escribamos el término de equilibrio en Python. Al escribir en Python despreciaremos todas las constantes que son delta T y delta X. Simplemente supondremos que son una, porque recuerdas, te dije que son No importa en qué sistema de unidades estés trabajando. Sólo necesitas asegurarte de que el Número de Reynold, es el mismo en diferentes sistemas. Así que nos haremos la vida más fácil, prescindiendo de las constantes delta x y delta t, y fijándolas en la unidad. Cs al cuadrado, la velocidad del sonido al cuadrado en este caso, serán sólo un tercio, constantes simples que codificamos duramente en nuestro programa. Escribimos una función que toma como argumentos la densidad macroscópica y la velocidad. O para ser precisos, matrices que los valores de densidad y velocidad En cada punto del espacio, y que devolverá la distribución de equilibrio. La distribución de equilibrio será una matriz de tres dimensiones con las mismas dimensiones que las poblaciones, nueve veces nx, tiempo ny en y. Para calcular el término de equilibrio, necesitamos calcular dos cosas, primero, la norma de la velocidad al cuadrado. Esto es independiente de la dirección de la red, así que lo calculamos una vez para todo. Hago esto ahora mismo con la sintaxis basada en matrices de NumPy porque doy por hecho que ha entendido que todo aquí depende del espacio para entender lo que está pasando. Y hay que imaginar bucles sobre las direcciones espaciales x e y. Estamos usando la sintaxis basada en arrays, que es un atajo y que implica estos bucles. Entonces hacemos bucles sobre las nueve direcciones. Y en cada dirección calculamos el producto escalar de las velocidades de la red por la velocidad macroscópica. Los necesitamos dos veces, una dentro del término lineal, y una vez para el término cuadrático, en el que este producto escalar se toma como un cuadrado. Luego calculamos el término de equilibrio exactamente según la fórmula. Es densidad por constante de red. En la dirección de la población i-ésima, por un término constante, más un término lineal, más los dos términos cuadrados. Y una vez terminado este bucle, volvemos a las poblaciones de equilibrio, una matriz tridimensional de dimensiones 9 por nx por ny. La colisión es aún más fácil. Dijimos que el modelo BGK toma la diferencia entre las poblaciones salientes y entrantes y la pone igual o proporcional a la diferencia entre las poblaciones entrantes y la distribución de equilibrio. Así que si conocemos la distribución de equilibrio, simplemente decimos con la conocida sintaxis basada en la matriz pi que, las poblaciones salientes son iguales a las poblaciones entrantes, menos el parámetro de relajación veces la diferencia entre las poblaciones entrantes, entrantes y que aportan equidad. Y eso es todo. Una sola línea que NumPy es una matriz muy eficiente de esta sintaxis. Este es el final de nuestro módulo sobre el paso de colisión y el modelo BGK. En el método Baltzman de celosía. Manténgase en sintonía para el próximo modelo. [MUSICA]