[MÚSICA] Hola, y bienvenidos de nuevo a la quinta semana de nuestra clase de modelado y simulación de procesos naturales. Este módulo tratará sobre la transición de los Autómatas de Gas de Lattice al método de Boltzmann de Lattice. En primer lugar permítanme hacerles un breve recordatorio de los Autómatas de Gas de Lattice que vieron en la sesión anterior. Vieron en particular el modelo de gas reticular, HPP. Que se utiliza para resolver el flujo de fluidos. Los autómatas de gas reticular trataron de imitar la física real de un gas mediante la colocación de alguna versión idealizada de moléculas de gas en una rejilla discreta. Se colocan en celdas en las intersecciones de la rejilla, y hay un número máximo de cuatro partículas por celda. Cada partícula es apátrida y puede poblar uno de los cuatro enlaces que conectan la celda con una de sus vecinas. El modelo, el modelo Lattice Gas, consiste en iteraciones sucesivas. Y la iteración comienza con el paso de colisión para seguido de un paso de propagación. Durante el paso de colisión, las partículas que están colocadas en la misma celda interactúan y chocan. Colisionan, lo que significa que sus direcciones se reorganizan, y se sustituyen potencialmente en diferentes enlaces de la misma celda. Utilizaremos ahora una notación en la que las partículas, antes de la colisión, se trazan en color verde y después de la colisión son rojas. Así pues, la colisión lleva a las partículas del estado anterior a la colisión, que es verde, al estado posterior a la colisión, que es rojo. La colisión convierte el verde en rojo. Y una vez que han colisionado sufren una propagación que significa que se copian de una celda a una de sus vecinas según la dirección del enlace en el que se encuentran. La propagación lleva las partículas del estado posterior a la colisión, al estado anterior a la colisión en la nueva celda, que están listas para la siguiente colisión durante la siguiente iteración temporal. Ahora bien, cuando se asimila un fluido con el autómata de gas reticular, ¿cómo se evalúan las cantidades al final? Al final, lo que interesa es conocer la velocidad en una ubicación espacial, o la presión, así que cómo se hace cuando sólo se tienen partículas discretas. Que además son sólo booleanas, son ceros o uno si hay una partícula, cero si no hay partícula. Para obtener cantidades físicas que son variables de valor real necesita hacer promedios cuando ha aleado al postprocesar sus datos. Una forma de hacerlo es hacer promedios espaciales. Así que toma una porción de espacio como el cuadrado rojo que tenemos en la parte superior de la cuadrícula numérica aquí. Cuente el número de partículas en cada dirección, y calcule los promedios. Calculando promedios, podríamos hacerlo. Obtenemos variables de valor real como las que mostramos en la parte derecha de esta imagen. Hemos trazado de nuevo cuatro flechas que ahora tienen un grosor variable, donde el grosor es proporcional a la cantidad de partículas que hemos contado que se propagarán en esta dirección correspondiente. Después de esto, tenemos algún estado macroscópico del que podemos extraer presión y velocidad, las variables macroscópicas que nos interesan. Ahora la idea del método de Lattice Boltzmann es decir bueno, si podemos representar el estado del sistema con muchas menos variables, una vez hecho el postprocesado, ¿por qué no ejecutar la simulación en este conjunto de variables de revisión desde el principio? Esto es lo que hace el Lattice Boltzmann. Tomamos los valores medios, los llamamos las poblaciones del lattice, que son valores reales, y hacemos algo de física sobre ellos. El modelo que gobierna su movimiento se obtiene a partir del autómata Lattice Gas. Tomamos, teóricamente hablando, el autómata de gas reticular, tomamos su dinámica, y hacemos física estadística sobre él para obtener un modelo promedio. El modelo promedio es el modelo de Boltzmann reticular, que funciona directamente sobre variables de punto flotante promediadas. Entremos en más detalles. Hoy trabajaremos con el modelo bidimensional que se denomina D2Q9. Que a diferencia del modelo HPP, que tiene cuatro variables por celda tiene nueve variables. Nueve variables porque tiene una población que es una densidad de partículas, asociada a cada enlace que conecta la celda con sus vecinas, a lo largo de direcciones ortogonales para las variables. Y cuatro variables a lo largo de las direcciones diagonales. Y luego hay una novena variable, que corresponde a las llamadas partículas de reposo, que es una densidad de partículas que permanecen en la celda, que no se mueven durante el paso de propagación. Cuando ejecutamos la simulación Lattice Boltzmann, tomamos el espacio físico real y lo discretizamos. Es decir, lo representamos mediante un número determinado de celdas. Cada celda es una celda Lattice Boltzmann, tiene nueve variables. Nueve variables de coma flotante asignadas sobre ella, que llamamos las poblaciones. Le muestro aquí un ejemplo de la porción de espacio que se disecciona mediante celdas de ocho por ocho, lo que significa 64 celdas. En cada celda de ordenación tenemos nueve variables, lo que significa que tenemos un total de ocho por ocho, por nueve, lo que son 576 variables. Para realizar una simulación de este tipo, podemos, en nuestro caso por ejemplo, poner estas variables en la matriz. Veamos cómo se escribe esto con el lenguaje de programación Python y utilizando la librería NumPy que ya ha visto antes. En la biblioteca NumPy, puede asignar una matriz tridimensional utilizando el comando ceros. Toma, en nuestro caso aquí, tres variables, nueve, ocho, ocho, para decir una matriz tridimensional de nueve por ocho por ocho. Asignará la memoria necesaria para ejecutar nuestra simulación. Al igual que un autómata reticular de gas, un Boltzmann reticular comienza la iteración con un paso de colisión. Durante la colisión, las poblaciones pasan de su estado anterior a la colisión, que, de nuevo, es verde para nosotros, al estado posterior a la colisión, que trazamos en rojo. Durante la colisión las partículas interactúan entre sí y alcanzan un estado poscolisión rojo, que es diferente del estado previo a la colisión. Lo que significa que el grosor de las flechas ha cambiado un poco debido a los recálculos durante la colisión. Usted no podría ver que el grosor ha cambiado porque este cambio de grosor es realmente sólo una pequeña perturbación del valor de las poblaciones. Y usted no lo ve aquí, visualmente, pero sí que cambian un poco. Veamos este paso de colisión por segunda vez de forma más precisa. Esta vez, he coloreado una de las flechas de negro para que pueda seguir su movimiento. Las flechas se mueven una hacia la otra, y colisionan, y cambian su valor para ir al lugar opuesto, donde se encuentran en el estado posterior a la colisión. El modelo que utilizamos cuando describimos la colisión en el método Lattice Boltzmann es un modelo instantáneo y localizado en las coordenadas de la celda. En realidad, nada se mueve. Aquí sólo hacemos un movimiento para representar el cambio de nombre de las variables ahora en el modelo numérico. Pero realmente el modelo que utilizamos, la física que intentamos representar aquí no implica ningún cambio de lugar ni ningún cambio de tiempo, es instantáneo y localizado en una célula. Después de la colisión tenemos un paso de encadenamiento durante el cual ocurre exactamente lo mismo que en el autómata de gas de celosía. La población tal como sin ninguna modificación. Desde una celda a una de sus ocho vecinas o nueve vecinas cuando se dice que la partícula resto corresponde a la partícula que no se ha movido. Esos índices, que permanece en la misma celda. Déjenme mostrarles el paso de encadenamiento. Aquí las partículas pasan de su valor posterior a la colisión, que es rojo, a un valor anterior a la colisión en la celda vecina. Simplemente se mueven en una de sus ocho direcciones. Sucede exactamente lo mismo que en el autómata de celosía de gas. Y aquí decimos que el tiempo del modelo se ha incrementado. Nuestra simulación pasa del tiempo t al tiempo t más delta t. Tenemos dos variables discretas en nuestro modelo, que describen de qué manera discretizamos la [INAUDIBLE] física para pasar a un modelo numérico. Delta t es el estado de tiempo discreto que representa la diferencia de tiempo entre una iteración y la siguiente. Y delta x es la distancia entre una celda y una de sus vecinas. Éste es el final de nuestro módulo sobre la transición de los modelos Lattice Gas a Lattice Boltzmann. Siga atento a nuestro próximo módulo. [MÚSICA]